---
title: "3.3. Authors Mapping"
category: subchapter
booktype: remote
weight: 6
---
###3.3. Authors Mapping

In this chapter commits authorship question is considered.

> **Note:**<br>
SubGit uses Git authors to count committers according to license agreement. So it's important to figure correct mappings before intial import process to avoid any license agreement based errors.

By default there is no explicit authors mapping and the following rules are used for translation:

+ Subversion "svn\_user\_name" is translated to "svn\_user\_name <>" in Git
+ Git "Author Name \<email@domain.com\>" is translated to "Author Name" in Subversion

Additionally to the default rule, explicit authors mapping may be provided by SubGit configuration. There are options to that.
Authors mapping could be excplicitly stored in a separate text file which is looked at **GIT_REPOS/subgit/authors.txt** by default. Mapping file is read in system default encoding. Example given for the **authors.txt** file:

    ashley_black = Ashley Black <a.black@gmail.com>

Alternatively the shell script may be used to create authors mappings. Basically SubGit will work as a helper reading from standard input and providing output for standard output. General format will be like following.

For Git to Subversion mapping:
    
    INPUT:
      FULL AUTHOR NAME
      AUTHOR EMAIL
    OUTPUT:
      SUBVERSION USER NAME

For Git to Subversion mapping:
    
    INPUT:
      SUBVERSION USER NAME
    OUTPUT:
      FULL AUTHOR NAME
      AUTHOR EMAIL

Example of how such **authors.sh** file could look like:

    while read input
    do
      if [ -z "$name" ]; then
        name="$input"
      elif [ -z "$email" ]; then
       email="$input"
      fi
    done

    if [ -z "$email" ]; then
        if [ "alice_black" == "$name" ];then
            echo Alice Black
            echo alice_black@gmail.com
        fi
        
        if [ "andrew" == "$name" ];then
            echo Andrew Black
            echo andrew.black@gmail.com
        fi
            
    else
        if [ "alice_black@gmail.com" == "$email" ]; then
            echo "alice_black"
        fi

        if [ "andrew.black@gmail.com" == "$email" ]; then
            echo "andrew"
        fi
    fi

    exit 0;

In this case we have only two commtters and different parsing rules for both, so it's efficient enough to provide the full string to the script. What is convinient, that this script can be altered to some serious level of complexity if needed any time.

All the external files regarding authors mapping are stored at **project/subgit** folder.

To their existence points special option in the core fonfiguration file (**project/subgit/config**):
  
    # location of the authors mapping file
    authorsFile = authors.txt
    authorsFile = authors.sh

Several different files or options may be used and SubGit will look for the match going linearly through them from the first to the last. This list could also look like that:

    authorsFile = authors.txt
    authorsFile = authors.sh
    authorsFile = authors.sh --global

In this example the script with option **--global** will be ran last.

In case nothing is found, SubGit will use the emergency fallback and create author's email automatically using core config option **defaultDomain**:

    defaultDomain = company.com

Following that SubGit will create such pairing:

    asher_black = asher_black <asher_black@company.com>

> **Note:**<br>
Authors mapping file (authors.txt) contents may be altered at any time and new mappings become effective immediately. Keep in mind that new mappings will not alter existing commits and revisions. To change them, you may reinstall SubGit using **--rebuild** option, but as it've been said this option is changing all hashes in the history which may cause problems later. 
  
[](#up)